import{c as je,d as j}from"./dayjs.min-ea7bbe63.js";import{aM as jt,h as Ce,j as ie,N as da,B as fa,n as Te,aN as pa,aO as va,m as ma,aj as ha,O as Ne,G as he,_ as Le,a4 as ke,aw as ba,a6 as ya,ao as ga,aa as ka,am as lt,a9 as Gt,M as at,aH as ot,aK as gt,ab as pt,aJ as ut}from"./index-005e4e09.js";import{a as wa,d as Nt,E as mt}from"./users-1a9b2b7f.js";import{E as Ze}from"./el-input-98fd8882.js";import{aD as Et,j as Se,d as Ve,Q as Ue,K as Z,M as xe,T as Ye,V as N,u as e,a1 as kt,o as T,c as De,w as se,a5 as y,a8 as Ft,aa as ct,a9 as ve,Y as B,Z as L,a2 as it,a6 as fe,a3 as Zt,X as Da,F as ye,ar as _e,ad as He,a4 as Ie,a as F,al as qt,ah as Xt,ai as st,i as wt,H as Jt,N as Sa}from"./runtime-core.esm-bundler-d5958d54.js";import{u as Ee}from"./index-2118f34c.js";import{f as Ca}from"./flatten-96b7b984.js";import{b as Ma,E as Pa,T as _a}from"./el-popper-2a158565.js";import{v as Bt}from"./index-9231dd87.js";import{d as $a,C as Dt}from"./index-fe7efd55.js";import{i as Ta}from"./isEqual-84f5bf45.js";const Va=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],qe=r=>!r&&r!==0?[]:Array.isArray(r)?r:[r],Rt=Symbol();var St={},Oa={get exports(){return St},set exports(r){St=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,p=/\d\d/,m=/\d\d?/,S=/\d*[^-_:/,()\s\d]+/,g={},M=function(l){return(l=+l)+(l>68?1900:2e3)},C=function(l){return function(v){this[l]=+v}},A=[/[+-]\d\d:?(\d\d)?|Z/,function(l){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),P=60*x[1]+(+x[2]||0);return P===0?0:x[0]==="+"?-P:P}(l)}],D=function(l){var v=g[l];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(l,v){var x,P=g.meridiem;if(P){for(var c=1;c<=24;c+=1)if(l.indexOf(P(c,0,v))>-1){x=c>12;break}}else x=l===(v?"pm":"PM");return x},o={A:[S,function(l){this.afternoon=h(l,!1)}],a:[S,function(l){this.afternoon=h(l,!0)}],S:[/\d/,function(l){this.milliseconds=100*+l}],SS:[p,function(l){this.milliseconds=10*+l}],SSS:[/\d{3}/,function(l){this.milliseconds=+l}],s:[m,C("seconds")],ss:[m,C("seconds")],m:[m,C("minutes")],mm:[m,C("minutes")],H:[m,C("hours")],h:[m,C("hours")],HH:[m,C("hours")],hh:[m,C("hours")],D:[m,C("day")],DD:[p,C("day")],Do:[S,function(l){var v=g.ordinal,x=l.match(/\d+/);if(this.day=x[0],v)for(var P=1;P<=31;P+=1)v(P).replace(/\[|\]/g,"")===l&&(this.day=P)}],M:[m,C("month")],MM:[p,C("month")],MMM:[S,function(l){var v=D("months"),x=(D("monthsShort")||v.map(function(P){return P.slice(0,3)})).indexOf(l)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[S,function(l){var v=D("months").indexOf(l)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,C("year")],YY:[p,function(l){this.year=M(l)}],YYYY:[/\d{4}/,C("year")],Z:A,ZZ:A};function k(l){var v,x;v=l,x=g&&g.formats;for(var P=(l=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(q,U,ee){var re=ee&&ee.toUpperCase();return U||x[ee]||n[ee]||x[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(z,te,ce){return te||ce.slice(1)})})).match(t),c=P.length,$=0;$<c;$+=1){var E=P[$],K=o[E],G=K&&K[0],Y=K&&K[1];P[$]=Y?{regex:G,parser:Y}:E.replace(/^\[|\]$/g,"")}return function(q){for(var U={},ee=0,re=0;ee<c;ee+=1){var z=P[ee];if(typeof z=="string")re+=z.length;else{var te=z.regex,ce=z.parser,pe=q.slice(re),H=te.exec(pe)[0];ce.call(U,H),q=q.replace(H,"")}}return function(I){var i=I.afternoon;if(i!==void 0){var w=I.hours;i?w<12&&(I.hours+=12):w===12&&(I.hours=0),delete I.afternoon}}(U),U}}return function(l,v,x){x.p.customParseFormat=!0,l&&l.parseTwoDigitYear&&(M=l.parseTwoDigitYear);var P=v.prototype,c=P.parse;P.parse=function($){var E=$.date,K=$.utc,G=$.args;this.$u=K;var Y=G[1];if(typeof Y=="string"){var q=G[2]===!0,U=G[3]===!0,ee=q||U,re=G[2];U&&(re=G[2]),g=this.$locale(),!q&&re&&(g=x.Ls[re]),this.$d=function(pe,H,I){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*pe);var i=k(H)(pe),w=i.year,R=i.month,s=i.day,_=i.hours,W=i.minutes,X=i.seconds,J=i.milliseconds,de=i.zone,ne=new Date,oe=s||(w||R?1:ne.getDate()),le=w||ne.getFullYear(),Pe=0;w&&!R||(Pe=R>0?R-1:ne.getMonth());var be=_||0,Me=W||0,we=X||0,Fe=J||0;return de?new Date(Date.UTC(le,Pe,oe,be,Me,we,Fe+60*de.offset*1e3)):I?new Date(Date.UTC(le,Pe,oe,be,Me,we,Fe)):new Date(le,Pe,oe,be,Me,we,Fe)}catch{return new Date("")}}(E,Y,K),this.init(),re&&re!==!0&&(this.$L=this.locale(re).$L),ee&&E!=this.format(Y)&&(this.$d=new Date("")),g={}}else if(Y instanceof Array)for(var z=Y.length,te=1;te<=z;te+=1){G[1]=Y[te-1];var ce=x.apply(this,G);if(ce.isValid()){this.$d=ce.$d,this.$L=ce.$L,this.init();break}te===z&&(this.$d=new Date(""))}else c.call(this,$)}}})})(Oa);const xa=St,Lt=["hours","minutes","seconds"],Wt="HH:mm:ss",nt="YYYY-MM-DD",Ya={date:nt,dates:nt,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${nt} ${Wt}`,monthrange:"YYYY-MM",daterange:nt,datetimerange:`${nt} ${Wt}`},ht=(r,d)=>[r>0?r-1:void 0,r,r<d?r+1:void 0],Qt=r=>Array.from(Array.from({length:r}).keys()),ea=r=>r.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),ta=r=>r.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Kt=function(r,d){const n=Et(r),t=Et(d);return n&&t?r.getTime()===d.getTime():!n&&!t?r===d:!1},zt=function(r,d){const n=Se(r),t=Se(d);return n&&t?r.length!==d.length?!1:r.every((p,m)=>Kt(p,d[m])):!n&&!t?Kt(r,d):!1},Ht=function(r,d,n){const t=jt(d)||d==="x"?j(r).locale(n):j(r,d).locale(n);return t.isValid()?t:void 0},Ut=function(r,d,n){return jt(d)?r:d==="x"?+r:j(r).locale(n).format(d)},bt=(r,d)=>{var n;const t=[],p=d==null?void 0:d();for(let m=0;m<r;m++)t.push((n=p==null?void 0:p.includes(m))!=null?n:!1);return t},aa=Ce({disabledHours:{type:ie(Function)},disabledMinutes:{type:ie(Function)},disabledSeconds:{type:ie(Function)}}),Ia=Ce({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),na=Ce({id:{type:ie([Array,String])},name:{type:ie([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ie([String,Object]),default:da},editable:{type:Boolean,default:!0},prefixIcon:{type:ie([String,Object]),default:""},size:fa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ie(Object),default:()=>({})},modelValue:{type:ie([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ie([Date,Array])},defaultTime:{type:ie([Date,Array])},isRange:{type:Boolean,default:!1},...aa,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ie([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Ra=["id","name","placeholder","value","disabled","readonly"],Aa=["id","name","placeholder","value","disabled","readonly"],Na=Ve({name:"Picker"}),Ea=Ve({...Na,props:na,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(r,{expose:d,emit:n}){const t=r,{lang:p}=Ee(),m=Te("date"),S=Te("input"),g=Te("range"),{form:M,formItem:C}=wa(),A=Ue("ElPopperOptions",{}),D=Z(),h=Z(),o=Z(!1),k=Z(!1),l=Z(null);let v=!1,x=!1;xe(o,a=>{a?Ye(()=>{a&&(l.value=t.modelValue)}):(ae.value=null,Ye(()=>{P(t.modelValue)}))});const P=(a,u)=>{(u||!zt(a,l.value))&&(n("change",a),t.validateEvent&&(C==null||C.validate("change").catch(b=>Nt())))},c=a=>{if(!zt(t.modelValue,a)){let u;Se(a)?u=a.map(b=>Ut(b,t.valueFormat,p.value)):a&&(u=Ut(a,t.valueFormat,p.value)),n("update:modelValue",a&&u,p.value)}},$=a=>{n("keydown",a)},E=N(()=>{if(h.value){const a=Me.value?h.value:h.value.$el;return Array.from(a.querySelectorAll("input"))}return[]}),K=(a,u,b)=>{const V=E.value;V.length&&(!b||b==="min"?(V[0].setSelectionRange(a,u),V[0].focus()):b==="max"&&(V[1].setSelectionRange(a,u),V[1].focus()))},G=()=>{ce(!0,!0),Ye(()=>{x=!1})},Y=(a="",u=!1)=>{u||(x=!0),o.value=u;let b;Se(a)?b=a.map(V=>V.toDate()):b=a&&a.toDate(),ae.value=null,c(b)},q=()=>{k.value=!0},U=()=>{n("visible-change",!0)},ee=a=>{(a==null?void 0:a.key)===ke.esc&&ce(!0,!0)},re=()=>{k.value=!1,o.value=!1,x=!1,n("visible-change",!1)},z=()=>{o.value=!0},te=()=>{o.value=!1},ce=(a=!0,u=!1)=>{x=u;const[b,V]=e(E);let ge=b;!a&&Me.value&&(ge=V),ge&&ge.focus()},pe=a=>{t.readonly||i.value||o.value||x||(o.value=!0,n("focus",a))};let H;const I=a=>{const u=async()=>{setTimeout(()=>{var b;H===u&&(!((b=D.value)!=null&&b.isFocusInsideContent()&&!v)&&E.value.filter(V=>V.contains(document.activeElement)).length===0&&(We(),o.value=!1,n("blur",a),t.validateEvent&&(C==null||C.validate("blur").catch(V=>Nt()))),v=!1)},0)};H=u,u()},i=N(()=>t.disabled||(M==null?void 0:M.disabled)),w=N(()=>{let a;if(ne.value?me.value.getDefaultValue&&(a=me.value.getDefaultValue()):Se(t.modelValue)?a=t.modelValue.map(u=>Ht(u,t.valueFormat,p.value)):a=Ht(t.modelValue,t.valueFormat,p.value),me.value.getRangeAvailableTime){const u=me.value.getRangeAvailableTime(a);Ta(u,a)||(a=u,c(Se(a)?a.map(b=>b.toDate()):a.toDate()))}return Se(a)&&a.some(u=>!u)&&(a=[]),a}),R=N(()=>{if(!me.value.panelReady)return"";const a=Oe(w.value);return Se(ae.value)?[ae.value[0]||a&&a[0]||"",ae.value[1]||a&&a[1]||""]:ae.value!==null?ae.value:!_.value&&ne.value||!o.value&&ne.value?"":a?W.value?a.join(", "):a:""}),s=N(()=>t.type.includes("time")),_=N(()=>t.type.startsWith("time")),W=N(()=>t.type==="dates"),X=N(()=>t.prefixIcon||(s.value?pa:va)),J=Z(!1),de=a=>{t.readonly||i.value||J.value&&(a.stopPropagation(),G(),c(null),P(null,!0),J.value=!1,o.value=!1,me.value.handleClear&&me.value.handleClear())},ne=N(()=>{const{modelValue:a}=t;return!a||Se(a)&&!a.filter(Boolean).length}),oe=async a=>{var u;t.readonly||i.value||(((u=a.target)==null?void 0:u.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(o.value=!0)},le=()=>{t.readonly||i.value||!ne.value&&t.clearable&&(J.value=!0)},Pe=()=>{J.value=!1},be=a=>{var u;t.readonly||i.value||(((u=a.touches[0].target)==null?void 0:u.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(o.value=!0)},Me=N(()=>t.type.includes("range")),we=ma(),Fe=N(()=>{var a,u;return(u=(a=e(D))==null?void 0:a.popperRef)==null?void 0:u.contentRef}),Re=N(()=>{var a;return e(Me)?e(h):(a=e(h))==null?void 0:a.$el});ha(Re,a=>{const u=e(Fe),b=e(Re);u&&(a.target===u||a.composedPath().includes(u))||a.target===b||a.composedPath().includes(b)||(o.value=!1)});const ae=Z(null),We=()=>{if(ae.value){const a=$e(R.value);a&&Ke(a)&&(c(Se(a)?a.map(u=>u.toDate()):a.toDate()),ae.value=null)}ae.value===""&&(c(null),P(null),ae.value=null)},$e=a=>a?me.value.parseUserInput(a):null,Oe=a=>a?me.value.formatToString(a):null,Ke=a=>me.value.isValidValue(a),Xe=async a=>{if(t.readonly||i.value)return;const{code:u}=a;if($(a),u===ke.esc){o.value===!0&&(o.value=!1,a.preventDefault(),a.stopPropagation());return}if(u===ke.down&&(me.value.handleFocusPicker&&(a.preventDefault(),a.stopPropagation()),o.value===!1&&(o.value=!0,await Ye()),me.value.handleFocusPicker)){me.value.handleFocusPicker();return}if(u===ke.tab){v=!0;return}if(u===ke.enter||u===ke.numpadEnter){(ae.value===null||ae.value===""||Ke($e(R.value)))&&(We(),o.value=!1),a.stopPropagation();return}if(ae.value){a.stopPropagation();return}me.value.handleKeydownInput&&me.value.handleKeydownInput(a)},Je=a=>{ae.value=a,o.value||(o.value=!0)},ze=a=>{const u=a.target;ae.value?ae.value=[u.value,ae.value[1]]:ae.value=[u.value,null]},Be=a=>{const u=a.target;ae.value?ae.value=[ae.value[0],u.value]:ae.value=[null,u.value]},Qe=()=>{var a;const u=ae.value,b=$e(u&&u[0]),V=e(w);if(b&&b.isValid()){ae.value=[Oe(b),((a=R.value)==null?void 0:a[1])||null];const ge=[b,V&&(V[1]||null)];Ke(ge)&&(c(ge),ae.value=null)}},et=()=>{var a;const u=e(ae),b=$e(u&&u[1]),V=e(w);if(b&&b.isValid()){ae.value=[((a=e(R))==null?void 0:a[0])||null,Oe(b)];const ge=[V&&V[0],b];Ke(ge)&&(c(ge),ae.value=null)}},me=Z({}),f=a=>{me.value[a[0]]=a[1],me.value.panelReady=!0},O=a=>{n("calendar-change",a)},Q=(a,u,b)=>{n("panel-change",a,u,b)};return kt("EP_PICKER_BASE",{props:t}),d({focus:ce,handleFocusInput:pe,handleBlurInput:I,handleOpen:z,handleClose:te,onPick:Y}),(a,u)=>(T(),De(e(Ma),Zt({ref_key:"refPopper",ref:D,visible:o.value,effect:"light",pure:"",trigger:"click"},a.$attrs,{role:"dialog",teleported:"",transition:`${e(m).namespace.value}-zoom-in-top`,"popper-class":[`${e(m).namespace.value}-picker__popper`,a.popperClass],"popper-options":e(A),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:q,onShow:U,onHide:re}),{default:se(()=>[e(Me)?(T(),B("div",{key:1,ref_key:"inputRef",ref:h,class:y([e(m).b("editor"),e(m).bm("editor",a.type),e(S).e("wrapper"),e(m).is("disabled",e(i)),e(m).is("active",o.value),e(g).b("editor"),e(we)?e(g).bm("editor",e(we)):"",a.$attrs.class]),style:Ft(a.$attrs.style),onClick:pe,onMouseenter:le,onMouseleave:Pe,onTouchstart:be,onKeydown:Xe},[e(X)?(T(),De(e(he),{key:0,class:y([e(S).e("icon"),e(g).e("icon")]),onMousedown:Ne(oe,["prevent"]),onTouchstart:be},{default:se(()=>[(T(),De(ct(e(X))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),L("input",{id:a.id&&a.id[0],autocomplete:"off",name:a.name&&a.name[0],placeholder:a.startPlaceholder,value:e(R)&&e(R)[0],disabled:e(i),readonly:!a.editable||a.readonly,class:y(e(g).b("input")),onMousedown:oe,onInput:ze,onChange:Qe,onFocus:pe,onBlur:I},null,42,Ra),it(a.$slots,"range-separator",{},()=>[L("span",{class:y(e(g).b("separator"))},fe(a.rangeSeparator),3)]),L("input",{id:a.id&&a.id[1],autocomplete:"off",name:a.name&&a.name[1],placeholder:a.endPlaceholder,value:e(R)&&e(R)[1],disabled:e(i),readonly:!a.editable||a.readonly,class:y(e(g).b("input")),onMousedown:oe,onFocus:pe,onBlur:I,onInput:Be,onChange:et},null,42,Aa),a.clearIcon?(T(),De(e(he),{key:1,class:y([e(S).e("icon"),e(g).e("close-icon"),{[e(g).e("close-icon--hidden")]:!J.value}]),onClick:de},{default:se(()=>[(T(),De(ct(a.clearIcon)))]),_:1},8,["class"])):ve("v-if",!0)],38)):(T(),De(e(Ze),{key:0,id:a.id,ref_key:"inputRef",ref:h,"container-role":"combobox","model-value":e(R),name:a.name,size:e(we),disabled:e(i),placeholder:a.placeholder,class:y([e(m).b("editor"),e(m).bm("editor",a.type),a.$attrs.class]),style:Ft(a.$attrs.style),readonly:!a.editable||a.readonly||e(W)||a.type==="week",label:a.label,tabindex:a.tabindex,"validate-event":!1,onInput:Je,onFocus:pe,onBlur:I,onKeydown:Xe,onChange:We,onMousedown:oe,onMouseenter:le,onMouseleave:Pe,onTouchstart:be,onClick:u[0]||(u[0]=Ne(()=>{},["stop"]))},{prefix:se(()=>[e(X)?(T(),De(e(he),{key:0,class:y(e(S).e("icon")),onMousedown:Ne(oe,["prevent"]),onTouchstart:be},{default:se(()=>[(T(),De(ct(e(X))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0)]),suffix:se(()=>[J.value&&a.clearIcon?(T(),De(e(he),{key:0,class:y(`${e(S).e("icon")} clear-icon`),onClick:Ne(de,["stop"])},{default:se(()=>[(T(),De(ct(a.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:se(()=>[it(a.$slots,"default",{visible:o.value,actualVisible:k.value,parsedValue:e(w),format:a.format,unlinkPanels:a.unlinkPanels,type:a.type,defaultValue:a.defaultValue,onPick:Y,onSelectRange:K,onSetPickerOption:f,onCalendarChange:O,onPanelChange:Q,onKeydown:ee,onMousedown:u[1]||(u[1]=Ne(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Fa=Le(Ea,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Ba=Ce({...Ia,datetimeRole:String,parsedValue:{type:ie(Object)}}),La=({getAvailableHours:r,getAvailableMinutes:d,getAvailableSeconds:n})=>{const t=(S,g,M,C)=>{const A={hour:r,minute:d,second:n};let D=S;return["hour","minute","second"].forEach(h=>{if(A[h]){let o;const k=A[h];switch(h){case"minute":{o=k(D.hour(),g,C);break}case"second":{o=k(D.hour(),D.minute(),g,C);break}default:{o=k(g,C);break}}if(o!=null&&o.length&&!o.includes(D[h]())){const l=M?0:o.length-1;D=D[h](o[l])}}}),D},p={};return{timePickerOptions:p,getAvailableTime:t,onSetOption:([S,g])=>{p[S]=g}}},yt=r=>{const d=(t,p)=>t||p,n=t=>t!==!0;return r.map(d).filter(n)},la=(r,d,n)=>({getHoursList:(S,g)=>bt(24,r&&(()=>r==null?void 0:r(S,g))),getMinutesList:(S,g,M)=>bt(60,d&&(()=>d==null?void 0:d(S,g,M))),getSecondsList:(S,g,M,C)=>bt(60,n&&(()=>n==null?void 0:n(S,g,M,C)))}),Wa=(r,d,n)=>{const{getHoursList:t,getMinutesList:p,getSecondsList:m}=la(r,d,n);return{getAvailableHours:(C,A)=>yt(t(C,A)),getAvailableMinutes:(C,A,D)=>yt(p(C,A,D)),getAvailableSeconds:(C,A,D,h)=>yt(m(C,A,D,h))}},Ka=r=>{const d=Z(r.parsedValue);return xe(()=>r.visible,n=>{n||(d.value=r.parsedValue)}),d},za=Ce({role:{type:String,required:!0},spinnerDate:{type:ie(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ie(String),default:""},...aa}),Ha=["onClick"],Ua=["onMouseenter"],ja=Ve({__name:"basic-time-spinner",props:za,emits:["change","select-range","set-option"],setup(r,{emit:d}){const n=r,t=Te("time"),{getHoursList:p,getMinutesList:m,getSecondsList:S}=la(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let g=!1;const M=Z(),C=Z(),A=Z(),D=Z(),h={hours:C,minutes:A,seconds:D},o=N(()=>n.showSeconds?Lt:Lt.slice(0,2)),k=N(()=>{const{spinnerDate:i}=n,w=i.hour(),R=i.minute(),s=i.second();return{hours:w,minutes:R,seconds:s}}),l=N(()=>{const{hours:i,minutes:w}=e(k);return{hours:p(n.role),minutes:m(i,n.role),seconds:S(i,w,n.role)}}),v=N(()=>{const{hours:i,minutes:w,seconds:R}=e(k);return{hours:ht(i,23),minutes:ht(w,59),seconds:ht(R,59)}}),x=$a(i=>{g=!1,$(i)},200),P=i=>{if(!!!n.amPmMode)return"";const R=n.amPmMode==="A";let s=i<12?" am":" pm";return R&&(s=s.toUpperCase()),s},c=i=>{let w;switch(i){case"hours":w=[0,2];break;case"minutes":w=[3,5];break;case"seconds":w=[6,8];break}const[R,s]=w;d("select-range",R,s),M.value=i},$=i=>{G(i,e(k)[i])},E=()=>{$("hours"),$("minutes"),$("seconds")},K=i=>i.querySelector(`.${t.namespace.value}-scrollbar__wrap`),G=(i,w)=>{if(n.arrowControl)return;const R=e(h[i]);R&&R.$el&&(K(R.$el).scrollTop=Math.max(0,w*Y(i)))},Y=i=>{const w=e(h[i]);return(w==null?void 0:w.$el.querySelector("li").offsetHeight)||0},q=()=>{ee(1)},U=()=>{ee(-1)},ee=i=>{M.value||c("hours");const w=M.value,R=e(k)[w],s=M.value==="hours"?24:60,_=re(w,R,i,s);z(w,_),G(w,_),Ye(()=>c(w))},re=(i,w,R,s)=>{let _=(w+R+s)%s;const W=e(l)[i];for(;W[_]&&_!==w;)_=(_+R+s)%s;return _},z=(i,w)=>{if(e(l)[i][w])return;const{hours:_,minutes:W,seconds:X}=e(k);let J;switch(i){case"hours":J=n.spinnerDate.hour(w).minute(W).second(X);break;case"minutes":J=n.spinnerDate.hour(_).minute(w).second(X);break;case"seconds":J=n.spinnerDate.hour(_).minute(W).second(w);break}d("change",J)},te=(i,{value:w,disabled:R})=>{R||(z(i,w),c(i),G(i,w))},ce=i=>{g=!0,x(i);const w=Math.min(Math.round((K(e(h[i]).$el).scrollTop-(pe(i)*.5-10)/Y(i)+3)/Y(i)),i==="hours"?23:59);z(i,w)},pe=i=>e(h[i]).$el.offsetHeight,H=()=>{const i=w=>{const R=e(h[w]);R&&R.$el&&(K(R.$el).onscroll=()=>{ce(w)})};i("hours"),i("minutes"),i("seconds")};Da(()=>{Ye(()=>{!n.arrowControl&&H(),E(),n.role==="start"&&c("hours")})});const I=(i,w)=>{h[w].value=i};return d("set-option",[`${n.role}_scrollDown`,ee]),d("set-option",[`${n.role}_emitSelectRange`,c]),xe(()=>n.spinnerDate,()=>{g||E()}),(i,w)=>(T(),B("div",{class:y([e(t).b("spinner"),{"has-seconds":i.showSeconds}])},[i.arrowControl?ve("v-if",!0):(T(!0),B(ye,{key:0},_e(e(o),R=>(T(),De(e(Pa),{key:R,ref_for:!0,ref:s=>I(s,R),class:y(e(t).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(t).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:s=>c(R),onMousemove:s=>$(R)},{default:se(()=>[(T(!0),B(ye,null,_e(e(l)[R],(s,_)=>(T(),B("li",{key:_,class:y([e(t).be("spinner","item"),e(t).is("active",_===e(k)[R]),e(t).is("disabled",s)]),onClick:W=>te(R,{value:_,disabled:s})},[R==="hours"?(T(),B(ye,{key:0},[He(fe(("0"+(i.amPmMode?_%12||12:_)).slice(-2))+fe(P(_)),1)],64)):(T(),B(ye,{key:1},[He(fe(("0"+_).slice(-2)),1)],64))],10,Ha))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),i.arrowControl?(T(!0),B(ye,{key:1},_e(e(o),R=>(T(),B("div",{key:R,class:y([e(t).be("spinner","wrapper"),e(t).is("arrow")]),onMouseenter:s=>c(R)},[Ie((T(),De(e(he),{class:y(["arrow-up",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(ba))]),_:1},8,["class"])),[[e(Bt),U]]),Ie((T(),De(e(he),{class:y(["arrow-down",e(t).be("spinner","arrow")])},{default:se(()=>[F(e(ya))]),_:1},8,["class"])),[[e(Bt),q]]),L("ul",{class:y(e(t).be("spinner","list"))},[(T(!0),B(ye,null,_e(e(v)[R],(s,_)=>(T(),B("li",{key:_,class:y([e(t).be("spinner","item"),e(t).is("active",s===e(k)[R]),e(t).is("disabled",e(l)[R][s])])},[typeof s=="number"?(T(),B(ye,{key:0},[R==="hours"?(T(),B(ye,{key:0},[He(fe(("0"+(i.amPmMode?s%12||12:s)).slice(-2))+fe(P(s)),1)],64)):(T(),B(ye,{key:1},[He(fe(("0"+s).slice(-2)),1)],64))],64)):ve("v-if",!0)],2))),128))],2)],42,Ua))),128)):ve("v-if",!0)],2))}});var Ga=Le(ja,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Za=Ve({__name:"panel-time-pick",props:Ba,emits:["pick","select-range","set-picker-option"],setup(r,{emit:d}){const n=r,t=Ue("EP_PICKER_BASE"),{arrowControl:p,disabledHours:m,disabledMinutes:S,disabledSeconds:g,defaultValue:M}=t.props,{getAvailableHours:C,getAvailableMinutes:A,getAvailableSeconds:D}=Wa(m,S,g),h=Te("time"),{t:o,lang:k}=Ee(),l=Z([0,2]),v=Ka(n),x=N(()=>ga(n.actualVisible)?`${h.namespace.value}-zoom-in-top`:""),P=N(()=>n.format.includes("ss")),c=N(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),$=I=>{const i=j(I).locale(k.value),w=te(i);return i.isSame(w)},E=()=>{d("pick",v.value,!1)},K=(I=!1,i=!1)=>{i||d("pick",n.parsedValue,I)},G=I=>{if(!n.visible)return;const i=te(I).millisecond(0);d("pick",i,!0)},Y=(I,i)=>{d("select-range",I,i),l.value=[I,i]},q=I=>{const i=[0,3].concat(P.value?[6]:[]),w=["hours","minutes"].concat(P.value?["seconds"]:[]),s=(i.indexOf(l.value[0])+I+i.length)%i.length;ee.start_emitSelectRange(w[s])},U=I=>{const i=I.code,{left:w,right:R,up:s,down:_}=ke;if([w,R].includes(i)){q(i===w?-1:1),I.preventDefault();return}if([s,_].includes(i)){const W=i===s?-1:1;ee.start_scrollDown(W),I.preventDefault();return}},{timePickerOptions:ee,onSetOption:re,getAvailableTime:z}=La({getAvailableHours:C,getAvailableMinutes:A,getAvailableSeconds:D}),te=I=>z(I,n.datetimeRole||"",!0),ce=I=>I?j(I,n.format).locale(k.value):null,pe=I=>I?I.format(n.format):null,H=()=>j(M).locale(k.value);return d("set-picker-option",["isValidValue",$]),d("set-picker-option",["formatToString",pe]),d("set-picker-option",["parseUserInput",ce]),d("set-picker-option",["handleKeydownInput",U]),d("set-picker-option",["getRangeAvailableTime",te]),d("set-picker-option",["getDefaultValue",H]),(I,i)=>(T(),De(ka,{name:e(x)},{default:se(()=>[I.actualVisible||I.visible?(T(),B("div",{key:0,class:y(e(h).b("panel"))},[L("div",{class:y([e(h).be("panel","content"),{"has-seconds":e(P)}])},[F(Ga,{ref:"spinner",role:I.datetimeRole||"start","arrow-control":e(p),"show-seconds":e(P),"am-pm-mode":e(c),"spinner-date":I.parsedValue,"disabled-hours":e(m),"disabled-minutes":e(S),"disabled-seconds":e(g),onChange:G,onSetOption:e(re),onSelectRange:Y},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),L("div",{class:y(e(h).be("panel","footer"))},[L("button",{type:"button",class:y([e(h).be("panel","btn"),"cancel"]),onClick:E},fe(e(o)("el.datepicker.cancel")),3),L("button",{type:"button",class:y([e(h).be("panel","btn"),"confirm"]),onClick:i[0]||(i[0]=w=>K())},fe(e(o)("el.datepicker.confirm")),3)],2)],2)):ve("v-if",!0)]),_:1},8,["name"]))}});var Ct=Le(Za,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),Mt={},qa={get exports(){return Mt},set exports(r){Mt=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){return function(n,t,p){var m=t.prototype,S=function(D){return D&&(D.indexOf?D:D.s)},g=function(D,h,o,k,l){var v=D.name?D:D.$locale(),x=S(v[h]),P=S(v[o]),c=x||P.map(function(E){return E.slice(0,k)});if(!l)return c;var $=v.weekStart;return c.map(function(E,K){return c[(K+($||0))%7]})},M=function(){return p.Ls[p.locale()]},C=function(D,h){return D.formats[h]||function(o){return o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(k,l,v){return l||v.slice(1)})}(D.formats[h.toUpperCase()])},A=function(){var D=this;return{months:function(h){return h?h.format("MMMM"):g(D,"months")},monthsShort:function(h){return h?h.format("MMM"):g(D,"monthsShort","months",3)},firstDayOfWeek:function(){return D.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):g(D,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):g(D,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):g(D,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return C(D.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.localeData=function(){return A.bind(this)()},p.localeData=function(){var D=M();return{firstDayOfWeek:function(){return D.weekStart||0},weekdays:function(){return p.weekdays()},weekdaysShort:function(){return p.weekdaysShort()},weekdaysMin:function(){return p.weekdaysMin()},months:function(){return p.months()},monthsShort:function(){return p.monthsShort()},longDateFormat:function(h){return C(D,h)},meridiem:D.meridiem,ordinal:D.ordinal}},p.months=function(){return g(M(),"months")},p.monthsShort=function(){return g(M(),"monthsShort","months",3)},p.weekdays=function(D){return g(M(),"weekdays",null,null,D)},p.weekdaysShort=function(D){return g(M(),"weekdaysShort","weekdays",3,D)},p.weekdaysMin=function(D){return g(M(),"weekdaysMin","weekdays",2,D)}}})})(qa);const Xa=Mt;var Pt={},Ja={get exports(){return Pt},set exports(r){Pt=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){return function(n,t){var p=t.prototype,m=p.format;p.format=function(S){var g=this,M=this.$locale();if(!this.isValid())return m.bind(this)(S);var C=this.$utils(),A=(S||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(D){switch(D){case"Q":return Math.ceil((g.$M+1)/3);case"Do":return M.ordinal(g.$D);case"gggg":return g.weekYear();case"GGGG":return g.isoWeekYear();case"wo":return M.ordinal(g.week(),"W");case"w":case"ww":return C.s(g.week(),D==="w"?1:2,"0");case"W":case"WW":return C.s(g.isoWeek(),D==="W"?1:2,"0");case"k":case"kk":return C.s(String(g.$H===0?24:g.$H),D==="k"?1:2,"0");case"X":return Math.floor(g.$d.getTime()/1e3);case"x":return g.$d.getTime();case"z":return"["+g.offsetName()+"]";case"zzz":return"["+g.offsetName("long")+"]";default:return D}});return m.bind(this)(A)}}})})(Ja);const Qa=Pt;var _t={},en={get exports(){return _t},set exports(r){_t=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){var n="week",t="year";return function(p,m,S){var g=m.prototype;g.week=function(M){if(M===void 0&&(M=null),M!==null)return this.add(7*(M-this.week()),"day");var C=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var A=S(this).startOf(t).add(1,t).date(C),D=S(this).endOf(n);if(A.isBefore(D))return 1}var h=S(this).startOf(t).date(C).startOf(n).subtract(1,"millisecond"),o=this.diff(h,n,!0);return o<0?S(this).startOf("week").week():Math.ceil(o)},g.weeks=function(M){return M===void 0&&(M=null),this.week(M)}}})})(en);const tn=_t;var $t={},an={get exports(){return $t},set exports(r){$t=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){return function(n,t){t.prototype.weekYear=function(){var p=this.month(),m=this.week(),S=this.year();return m===1&&p===11?S+1:p===0&&m>=52?S-1:S}}})})(an);const nn=$t;var Tt={},ln={get exports(){return Tt},set exports(r){Tt=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){return function(n,t,p){t.prototype.dayOfYear=function(m){var S=Math.round((p(this).startOf("day")-p(this).startOf("year"))/864e5)+1;return m==null?S:this.add(m-S,"day")}}})})(ln);const sn=Tt;var Vt={},rn={get exports(){return Vt},set exports(r){Vt=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){return function(n,t){t.prototype.isSameOrAfter=function(p,m){return this.isSame(p,m)||this.isAfter(p,m)}}})})(rn);const on=Vt;var Ot={},un={get exports(){return Ot},set exports(r){Ot=r}};(function(r,d){(function(n,t){r.exports=t()})(je,function(){return function(n,t){t.prototype.isSameOrBefore=function(p,m){return this.isSame(p,m)||this.isBefore(p,m)}}})})(un);const cn=Ot,dn=Ce({type:{type:ie(String),default:"date"}}),fn=["date","dates","year","month","week","range"],At=Ce({disabledDate:{type:ie(Function)},date:{type:ie(Object),required:!0},minDate:{type:ie(Object)},maxDate:{type:ie(Object)},parsedValue:{type:ie([Object,Array])},rangeState:{type:ie(Object),default:()=>({endDate:null,selecting:!1})}}),sa=Ce({type:{type:ie(String),required:!0,values:Va}}),ra=Ce({unlinkPanels:Boolean,parsedValue:{type:ie(Array)}}),oa=r=>({type:String,values:fn,default:r}),pn=Ce({...sa,parsedValue:{type:ie([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),vn=Ce({...At,cellClassName:{type:ie(Function)},showWeekNumber:Boolean,selectionMode:oa("date")}),xt=r=>{if(!Se(r))return!1;const[d,n]=r;return j.isDayjs(d)&&j.isDayjs(n)&&d.isSameOrBefore(n)},ua=(r,{lang:d,unit:n,unlinkPanels:t})=>{let p;if(Se(r)){let[m,S]=r.map(g=>j(g).locale(d));return t||(S=m.add(1,n)),[m,S]}else r?p=j(r):p=j();return p=p.locale(d),[p,p.add(1,n)]},mn=(r,d,{columnIndexOffset:n,startDate:t,nextEndDate:p,now:m,unit:S,relativeDateGetter:g,setCellMetadata:M,setRowMetadata:C})=>{for(let A=0;A<r.row;A++){const D=d[A];for(let h=0;h<r.column;h++){let o=D[h+n];o||(o={row:A,column:h,type:"normal",inRange:!1,start:!1,end:!1});const k=A*r.column+h,l=g(k);o.dayjs=l,o.date=l.toDate(),o.timestamp=l.valueOf(),o.type="normal",o.inRange=!!(t&&l.isSameOrAfter(t,S)&&p&&l.isSameOrBefore(p,S))||!!(t&&l.isSameOrBefore(t,S)&&p&&l.isSameOrAfter(p,S)),t!=null&&t.isSameOrAfter(p)?(o.start=!!p&&l.isSame(p,S),o.end=t&&l.isSame(t,S)):(o.start=!!t&&l.isSame(t,S),o.end=!!p&&l.isSame(p,S)),l.isSame(m,S)&&(o.type="today"),M==null||M(o,{rowIndex:A,columnIndex:h}),D[h+n]=o}C==null||C(D)}},hn=Ce({cell:{type:ie(Object)}});var bn=Ve({name:"ElDatePickerCell",props:hn,setup(r){const d=Te("date-table-cell"),{slots:n}=Ue(Rt);return()=>{const{cell:t}=r;if(n.default){const p=n.default(t).filter(m=>m.patchFlag!==-2&&m.type.toString()!=="Symbol(Comment)");if(p.length)return p}return F("div",{class:d.b()},[F("span",{class:d.e("text")},[t==null?void 0:t.text])])}}});const yn=["aria-label","onMousedown"],gn={key:0,scope:"col"},kn=["aria-label"],wn=["aria-current","aria-selected","tabindex"],Dn=Ve({__name:"basic-date-table",props:vn,emits:["changerange","pick","select"],setup(r,{expose:d,emit:n}){const t=r,p=Te("date-table"),{t:m,lang:S}=Ee(),g=Z(),M=Z(),C=Z(),A=Z(),D=Z([[],[],[],[],[],[]]);let h=!1;const o=t.date.$locale().weekStart||7,k=t.date.locale("en").localeData().weekdaysShort().map(s=>s.toLowerCase()),l=N(()=>o>3?7-o:-o),v=N(()=>{const s=t.date.startOf("month");return s.subtract(s.day()||7,"day")}),x=N(()=>k.concat(k).slice(o,o+7)),P=N(()=>Ca(Y.value).some(s=>s.isCurrent)),c=N(()=>{const s=t.date.startOf("month"),_=s.day()||7,W=s.daysInMonth(),X=s.subtract(1,"month").daysInMonth();return{startOfMonthDay:_,dateCountOfMonth:W,dateCountOfLastMonth:X}}),$=N(()=>t.selectionMode==="dates"?qe(t.parsedValue):[]),E=(s,{count:_,rowIndex:W,columnIndex:X})=>{const{startOfMonthDay:J,dateCountOfMonth:de,dateCountOfLastMonth:ne}=e(c),oe=e(l);if(W>=0&&W<=1){const le=J+oe<0?7+J+oe:J+oe;if(X+W*7>=le)return s.text=_,!0;s.text=ne-(le-X%7)+1+W*7,s.type="prev-month"}else return _<=de?s.text=_:(s.text=_-de,s.type="next-month"),!0;return!1},K=(s,{columnIndex:_,rowIndex:W},X)=>{const{disabledDate:J,cellClassName:de}=t,ne=e($),oe=E(s,{count:X,rowIndex:W,columnIndex:_}),le=s.dayjs.toDate();return s.selected=ne.find(Pe=>Pe.valueOf()===s.dayjs.valueOf()),s.isSelected=!!s.selected,s.isCurrent=ee(s),s.disabled=J==null?void 0:J(le),s.customClass=de==null?void 0:de(le),oe},G=s=>{if(t.selectionMode==="week"){const[_,W]=t.showWeekNumber?[1,7]:[0,6],X=R(s[_+1]);s[_].inRange=X,s[_].start=X,s[W].inRange=X,s[W].end=X}},Y=N(()=>{const{minDate:s,maxDate:_,rangeState:W,showWeekNumber:X}=t,J=l.value,de=D.value,ne="day";let oe=1;if(X)for(let le=0;le<6;le++)de[le][0]||(de[le][0]={type:"week",text:v.value.add(le*7+1,ne).week()});return mn({row:6,column:7},de,{startDate:s,columnIndexOffset:X?1:0,nextEndDate:W.endDate||_||W.selecting&&s||null,now:j().locale(e(S)).startOf(ne),unit:ne,relativeDateGetter:le=>v.value.add(le-J,ne),setCellMetadata:(...le)=>{K(...le,oe)&&(oe+=1)},setRowMetadata:G}),de});xe(()=>t.date,async()=>{var s,_;(s=g.value)!=null&&s.contains(document.activeElement)&&(await Ye(),(_=M.value)==null||_.focus())});const q=async()=>{var s;(s=M.value)==null||s.focus()},U=(s="")=>["normal","today"].includes(s),ee=s=>t.selectionMode==="date"&&U(s.type)&&re(s,t.parsedValue),re=(s,_)=>_?j(_).locale(S.value).isSame(t.date.date(Number(s.text)),"day"):!1,z=s=>{const _=[];return U(s.type)&&!s.disabled?(_.push("available"),s.type==="today"&&_.push("today")):_.push(s.type),ee(s)&&_.push("current"),s.inRange&&(U(s.type)||t.selectionMode==="week")&&(_.push("in-range"),s.start&&_.push("start-date"),s.end&&_.push("end-date")),s.disabled&&_.push("disabled"),s.selected&&_.push("selected"),s.customClass&&_.push(s.customClass),_.join(" ")},te=(s,_)=>{const W=s*7+(_-(t.showWeekNumber?1:0))-l.value;return v.value.add(W,"day")},ce=s=>{var _;if(!t.rangeState.selecting)return;let W=s.target;if(W.tagName==="SPAN"&&(W=(_=W.parentNode)==null?void 0:_.parentNode),W.tagName==="DIV"&&(W=W.parentNode),W.tagName!=="TD")return;const X=W.parentNode.rowIndex-1,J=W.cellIndex;Y.value[X][J].disabled||(X!==C.value||J!==A.value)&&(C.value=X,A.value=J,n("changerange",{selecting:!0,endDate:te(X,J)}))},pe=s=>!P.value&&(s==null?void 0:s.text)===1&&s.type==="normal"||s.isCurrent,H=s=>{h||P.value||t.selectionMode!=="date"||w(s,!0)},I=s=>{s.target.closest("td")&&(h=!0)},i=s=>{s.target.closest("td")&&(h=!1)},w=(s,_=!1)=>{const W=s.target.closest("td");if(!W)return;const X=W.parentNode.rowIndex-1,J=W.cellIndex,de=Y.value[X][J];if(de.disabled||de.type==="week")return;const ne=te(X,J);if(t.selectionMode==="range")!t.rangeState.selecting||!t.minDate?(n("pick",{minDate:ne,maxDate:null}),n("select",!0)):(ne>=t.minDate?n("pick",{minDate:t.minDate,maxDate:ne}):n("pick",{minDate:ne,maxDate:t.minDate}),n("select",!1));else if(t.selectionMode==="date")n("pick",ne,_);else if(t.selectionMode==="week"){const oe=ne.week(),le=`${ne.year()}w${oe}`;n("pick",{year:ne.year(),week:oe,value:le,date:ne.startOf("week")})}else if(t.selectionMode==="dates"){const oe=de.selected?qe(t.parsedValue).filter(le=>(le==null?void 0:le.valueOf())!==ne.valueOf()):qe(t.parsedValue).concat([ne]);n("pick",oe)}},R=s=>{if(t.selectionMode!=="week")return!1;let _=t.date.startOf("day");if(s.type==="prev-month"&&(_=_.subtract(1,"month")),s.type==="next-month"&&(_=_.add(1,"month")),_=_.date(Number.parseInt(s.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const W=(t.parsedValue.day()-o+7)%7-1;return t.parsedValue.subtract(W,"day").isSame(_,"day")}return!1};return d({focus:q}),(s,_)=>(T(),B("table",{role:"grid","aria-label":e(m)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:y([e(p).b(),{"is-week-mode":s.selectionMode==="week"}]),onClick:w,onMousemove:ce,onMousedown:Ne(I,["prevent"]),onMouseup:i},[L("tbody",{ref_key:"tbodyRef",ref:g},[L("tr",null,[s.showWeekNumber?(T(),B("th",gn,fe(e(m)("el.datepicker.week")),1)):ve("v-if",!0),(T(!0),B(ye,null,_e(e(x),(W,X)=>(T(),B("th",{key:X,scope:"col","aria-label":e(m)("el.datepicker.weeksFull."+W)},fe(e(m)("el.datepicker.weeks."+W)),9,kn))),128))]),(T(!0),B(ye,null,_e(e(Y),(W,X)=>(T(),B("tr",{key:X,class:y([e(p).e("row"),{current:R(W[1])}])},[(T(!0),B(ye,null,_e(W,(J,de)=>(T(),B("td",{key:`${X}.${de}`,ref_for:!0,ref:ne=>pe(J)&&(M.value=ne),class:y(z(J)),"aria-current":J.isCurrent?"date":void 0,"aria-selected":J.isCurrent,tabindex:pe(J)?0:-1,onFocus:H},[F(e(bn),{cell:J},null,8,["cell"])],42,wn))),128))],2))),128))],512)],42,yn))}});var Yt=Le(Dn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Sn=Ce({...At,selectionMode:oa("month")}),Cn=["aria-label"],Mn=["aria-selected","aria-label","tabindex","onKeydown"],Pn={class:"cell"},_n=Ve({__name:"basic-month-table",props:Sn,emits:["changerange","pick","select"],setup(r,{expose:d,emit:n}){const t=r,p=($,E,K)=>{const G=j().locale(K).startOf("month").month(E).year($),Y=G.daysInMonth();return Qt(Y).map(q=>G.add(q,"day").toDate())},m=Te("month-table"),{t:S,lang:g}=Ee(),M=Z(),C=Z(),A=Z(t.date.locale("en").localeData().monthsShort().map($=>$.toLowerCase())),D=Z([[],[],[]]),h=Z(),o=Z(),k=N(()=>{var $,E;const K=D.value,G=j().locale(g.value).startOf("month");for(let Y=0;Y<3;Y++){const q=K[Y];for(let U=0;U<4;U++){const ee=q[U]||(q[U]={row:Y,column:U,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});ee.type="normal";const re=Y*4+U,z=t.date.startOf("year").month(re),te=t.rangeState.endDate||t.maxDate||t.rangeState.selecting&&t.minDate||null;ee.inRange=!!(t.minDate&&z.isSameOrAfter(t.minDate,"month")&&te&&z.isSameOrBefore(te,"month"))||!!(t.minDate&&z.isSameOrBefore(t.minDate,"month")&&te&&z.isSameOrAfter(te,"month")),($=t.minDate)!=null&&$.isSameOrAfter(te)?(ee.start=!!(te&&z.isSame(te,"month")),ee.end=t.minDate&&z.isSame(t.minDate,"month")):(ee.start=!!(t.minDate&&z.isSame(t.minDate,"month")),ee.end=!!(te&&z.isSame(te,"month"))),G.isSame(z)&&(ee.type="today"),ee.text=re,ee.disabled=((E=t.disabledDate)==null?void 0:E.call(t,z.toDate()))||!1}}return K}),l=()=>{var $;($=C.value)==null||$.focus()},v=$=>{const E={},K=t.date.year(),G=new Date,Y=$.text;return E.disabled=t.disabledDate?p(K,Y,g.value).every(t.disabledDate):!1,E.current=qe(t.parsedValue).findIndex(q=>j.isDayjs(q)&&q.year()===K&&q.month()===Y)>=0,E.today=G.getFullYear()===K&&G.getMonth()===Y,$.inRange&&(E["in-range"]=!0,$.start&&(E["start-date"]=!0),$.end&&(E["end-date"]=!0)),E},x=$=>{const E=t.date.year(),K=$.text;return qe(t.date).findIndex(G=>G.year()===E&&G.month()===K)>=0},P=$=>{var E;if(!t.rangeState.selecting)return;let K=$.target;if(K.tagName==="A"&&(K=(E=K.parentNode)==null?void 0:E.parentNode),K.tagName==="DIV"&&(K=K.parentNode),K.tagName!=="TD")return;const G=K.parentNode.rowIndex,Y=K.cellIndex;k.value[G][Y].disabled||(G!==h.value||Y!==o.value)&&(h.value=G,o.value=Y,n("changerange",{selecting:!0,endDate:t.date.startOf("year").month(G*4+Y)}))},c=$=>{var E;const K=(E=$.target)==null?void 0:E.closest("td");if((K==null?void 0:K.tagName)!=="TD"||Gt(K,"disabled"))return;const G=K.cellIndex,q=K.parentNode.rowIndex*4+G,U=t.date.startOf("year").month(q);t.selectionMode==="range"?t.rangeState.selecting?(t.minDate&&U>=t.minDate?n("pick",{minDate:t.minDate,maxDate:U}):n("pick",{minDate:U,maxDate:t.minDate}),n("select",!1)):(n("pick",{minDate:U,maxDate:null}),n("select",!0)):n("pick",q)};return xe(()=>t.date,async()=>{var $,E;($=M.value)!=null&&$.contains(document.activeElement)&&(await Ye(),(E=C.value)==null||E.focus())}),d({focus:l}),($,E)=>(T(),B("table",{role:"grid","aria-label":e(S)("el.datepicker.monthTablePrompt"),class:y(e(m).b()),onClick:c,onMousemove:P},[L("tbody",{ref_key:"tbodyRef",ref:M},[(T(!0),B(ye,null,_e(e(k),(K,G)=>(T(),B("tr",{key:G},[(T(!0),B(ye,null,_e(K,(Y,q)=>(T(),B("td",{key:q,ref_for:!0,ref:U=>x(Y)&&(C.value=U),class:y(v(Y)),"aria-selected":`${x(Y)}`,"aria-label":e(S)(`el.datepicker.month${+Y.text+1}`),tabindex:x(Y)?0:-1,onKeydown:[lt(Ne(c,["prevent","stop"]),["space"]),lt(Ne(c,["prevent","stop"]),["enter"])]},[L("div",null,[L("span",Pn,fe(e(S)("el.datepicker.months."+A.value[Y.text])),1)])],42,Mn))),128))]))),128))],512)],42,Cn))}});var It=Le(_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:$n,disabledDate:Tn,parsedValue:Vn}=At,On=Ce({date:$n,disabledDate:Tn,parsedValue:Vn}),xn=["aria-label"],Yn=["aria-selected","tabindex","onKeydown"],In={class:"cell"},Rn={key:1},An=Ve({__name:"basic-year-table",props:On,emits:["pick"],setup(r,{expose:d,emit:n}){const t=r,p=(l,v)=>{const x=j(String(l)).locale(v).startOf("year"),c=x.endOf("year").dayOfYear();return Qt(c).map($=>x.add($,"day").toDate())},m=Te("year-table"),{t:S,lang:g}=Ee(),M=Z(),C=Z(),A=N(()=>Math.floor(t.date.year()/10)*10),D=()=>{var l;(l=C.value)==null||l.focus()},h=l=>{const v={},x=j().locale(g.value);return v.disabled=t.disabledDate?p(l,g.value).every(t.disabledDate):!1,v.current=qe(t.parsedValue).findIndex(P=>P.year()===l)>=0,v.today=x.year()===l,v},o=l=>l===A.value&&t.date.year()<A.value&&t.date.year()>A.value+9||qe(t.date).findIndex(v=>v.year()===l)>=0,k=l=>{const x=l.target.closest("td");if(x&&x.textContent){if(Gt(x,"disabled"))return;const P=x.textContent||x.innerText;n("pick",Number(P))}};return xe(()=>t.date,async()=>{var l,v;(l=M.value)!=null&&l.contains(document.activeElement)&&(await Ye(),(v=C.value)==null||v.focus())}),d({focus:D}),(l,v)=>(T(),B("table",{role:"grid","aria-label":e(S)("el.datepicker.yearTablePrompt"),class:y(e(m).b()),onClick:k},[L("tbody",{ref_key:"tbodyRef",ref:M},[(T(),B(ye,null,_e(3,(x,P)=>L("tr",{key:P},[(T(),B(ye,null,_e(4,(c,$)=>(T(),B(ye,{key:P+"_"+$},[P*4+$<10?(T(),B("td",{key:0,ref_for:!0,ref:E=>o(e(A)+P*4+$)&&(C.value=E),class:y(["available",h(e(A)+P*4+$)]),"aria-selected":`${o(e(A)+P*4+$)}`,tabindex:o(e(A)+P*4+$)?0:-1,onKeydown:[lt(Ne(k,["prevent","stop"]),["space"]),lt(Ne(k,["prevent","stop"]),["enter"])]},[L("span",In,fe(e(A)+P*4+$),1)],42,Yn)):(T(),B("td",Rn))],64))),64))])),64))],512)],10,xn))}});var Nn=Le(An,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const En=["onClick"],Fn=["aria-label"],Bn=["aria-label"],Ln=["aria-label"],Wn=["aria-label"],Kn=Ve({__name:"panel-date-pick",props:pn,emits:["pick","set-picker-option","panel-change"],setup(r,{emit:d}){const n=r,t=(f,O,Q)=>!0,p=Te("picker-panel"),m=Te("date-picker"),S=qt(),g=Xt(),{t:M,lang:C}=Ee(),A=Ue("EP_PICKER_BASE"),D=Ue(_a),{shortcuts:h,disabledDate:o,cellClassName:k,defaultTime:l,arrowControl:v}=A.props,x=st(A.props,"defaultValue"),P=Z(),c=Z(j().locale(C.value)),$=Z(!1),E=N(()=>j(l).locale(C.value)),K=N(()=>c.value.month()),G=N(()=>c.value.year()),Y=Z([]),q=Z(null),U=Z(null),ee=f=>Y.value.length>0?t(f,Y.value,n.format||"HH:mm:ss"):!0,re=f=>l&&!be.value&&!$.value?E.value.year(f.year()).month(f.month()).date(f.date()):J.value?f.millisecond(0):f.startOf("day"),z=(f,...O)=>{if(!f)d("pick",f,...O);else if(Se(f)){const Q=f.map(re);d("pick",Q,...O)}else d("pick",re(f),...O);q.value=null,U.value=null,$.value=!1},te=(f,O)=>{if(w.value==="date"){f=f;let Q=n.parsedValue?n.parsedValue.year(f.year()).month(f.month()).date(f.date()):f;ee(Q)||(Q=Y.value[0][0].year(f.year()).month(f.month()).date(f.date())),c.value=Q,z(Q,J.value||O)}else w.value==="week"?z(f.date):w.value==="dates"&&z(f,!0)},ce=f=>{const O=f?"add":"subtract";c.value=c.value[O](1,"month"),me("month")},pe=f=>{const O=c.value,Q=f?"add":"subtract";c.value=H.value==="year"?O[Q](10,"year"):O[Q](1,"year"),me("year")},H=Z("date"),I=N(()=>{const f=M("el.datepicker.year");if(H.value==="year"){const O=Math.floor(G.value/10)*10;return f?`${O} ${f} - ${O+9} ${f}`:`${O} - ${O+9}`}return`${G.value} ${f}`}),i=f=>{const O=wt(f.value)?f.value():f.value;if(O){z(j(O).locale(C.value));return}f.onClick&&f.onClick({attrs:S,slots:g,emit:d})},w=N(()=>{const{type:f}=n;return["week","month","year","dates"].includes(f)?f:"date"}),R=N(()=>w.value==="date"?H.value:w.value),s=N(()=>!!h.length),_=async f=>{c.value=c.value.startOf("month").month(f),w.value==="month"?z(c.value,!1):(H.value="date",["month","year","date","week"].includes(w.value)&&(z(c.value,!0),await Ye(),Be())),me("month")},W=async f=>{w.value==="year"?(c.value=c.value.startOf("year").year(f),z(c.value,!1)):(c.value=c.value.year(f),H.value="month",["month","year","date","week"].includes(w.value)&&(z(c.value,!0),await Ye(),Be())),me("year")},X=async f=>{H.value=f,await Ye(),Be()},J=N(()=>n.type==="datetime"||n.type==="datetimerange"),de=N(()=>J.value||w.value==="dates"),ne=()=>{if(w.value==="dates")z(n.parsedValue);else{let f=n.parsedValue;if(!f){const O=j(l).locale(C.value),Q=ze();f=O.year(Q.year()).month(Q.month()).date(Q.date())}c.value=f,z(f)}},oe=()=>{const O=j().locale(C.value).toDate();$.value=!0,(!o||!o(O))&&ee(O)&&(c.value=j().locale(C.value),z(c.value))},le=N(()=>ta(n.format)),Pe=N(()=>ea(n.format)),be=N(()=>{if(U.value)return U.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||c.value).format(le.value)}),Me=N(()=>{if(q.value)return q.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||c.value).format(Pe.value)}),we=Z(!1),Fe=()=>{we.value=!0},Re=()=>{we.value=!1},ae=f=>({hour:f.hour(),minute:f.minute(),second:f.second(),year:f.year(),month:f.month(),date:f.date()}),We=(f,O,Q)=>{const{hour:a,minute:u,second:b}=ae(f),V=n.parsedValue?n.parsedValue.hour(a).minute(u).second(b):f;c.value=V,z(c.value,!0),Q||(we.value=O)},$e=f=>{const O=j(f,le.value).locale(C.value);if(O.isValid()&&ee(O)){const{year:Q,month:a,date:u}=ae(c.value);c.value=O.year(Q).month(a).date(u),U.value=null,we.value=!1,z(c.value,!0)}},Oe=f=>{const O=j(f,Pe.value).locale(C.value);if(O.isValid()){if(o&&o(O.toDate()))return;const{hour:Q,minute:a,second:u}=ae(c.value);c.value=O.hour(Q).minute(a).second(u),q.value=null,z(c.value,!0)}},Ke=f=>j.isDayjs(f)&&f.isValid()&&(o?!o(f.toDate()):!0),Xe=f=>w.value==="dates"?f.map(O=>O.format(n.format)):f.format(n.format),Je=f=>j(f,n.format).locale(C.value),ze=()=>{const f=j(x.value).locale(C.value);if(!x.value){const O=E.value;return j().hour(O.hour()).minute(O.minute()).second(O.second()).locale(C.value)}return f},Be=async()=>{var f;["week","month","year","date"].includes(w.value)&&((f=P.value)==null||f.focus(),w.value==="week"&&et(ke.down))},Qe=f=>{const{code:O}=f;[ke.up,ke.down,ke.left,ke.right,ke.home,ke.end,ke.pageUp,ke.pageDown].includes(O)&&(et(O),f.stopPropagation(),f.preventDefault()),[ke.enter,ke.space].includes(O)&&q.value===null&&U.value===null&&(f.preventDefault(),z(c.value,!1))},et=f=>{var O;const{up:Q,down:a,left:u,right:b,home:V,end:ge,pageUp:Ge,pageDown:tt}=ke,ca={year:{[Q]:-4,[a]:4,[u]:-1,[b]:1,offset:(ue,Ae)=>ue.setFullYear(ue.getFullYear()+Ae)},month:{[Q]:-4,[a]:4,[u]:-1,[b]:1,offset:(ue,Ae)=>ue.setMonth(ue.getMonth()+Ae)},week:{[Q]:-1,[a]:1,[u]:-1,[b]:1,offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae*7)},date:{[Q]:-7,[a]:7,[u]:-1,[b]:1,[V]:ue=>-ue.getDay(),[ge]:ue=>-ue.getDay()+6,[Ge]:ue=>-new Date(ue.getFullYear(),ue.getMonth(),0).getDate(),[tt]:ue=>new Date(ue.getFullYear(),ue.getMonth()+1,0).getDate(),offset:(ue,Ae)=>ue.setDate(ue.getDate()+Ae)}},rt=c.value.toDate();for(;Math.abs(c.value.diff(rt,"year",!0))<1;){const ue=ca[R.value];if(!ue)return;if(ue.offset(rt,wt(ue[f])?ue[f](rt):(O=ue[f])!=null?O:0),o&&o(rt))break;const Ae=j(rt).locale(C.value);c.value=Ae,d("pick",Ae,!0);break}},me=f=>{d("panel-change",c.value.toDate(),f,H.value)};return xe(()=>w.value,f=>{if(["month","year"].includes(f)){H.value=f;return}H.value="date"},{immediate:!0}),xe(()=>H.value,()=>{D==null||D.updatePopper()}),xe(()=>x.value,f=>{f&&(c.value=ze())},{immediate:!0}),xe(()=>n.parsedValue,f=>{if(f){if(w.value==="dates"||Array.isArray(f))return;c.value=f}else c.value=ze()},{immediate:!0}),d("set-picker-option",["isValidValue",Ke]),d("set-picker-option",["formatToString",Xe]),d("set-picker-option",["parseUserInput",Je]),d("set-picker-option",["handleFocusPicker",Be]),(f,O)=>(T(),B("div",{class:y([e(p).b(),e(m).b(),{"has-sidebar":f.$slots.sidebar||e(s),"has-time":e(J)}])},[L("div",{class:y(e(p).e("body-wrapper"))},[it(f.$slots,"sidebar",{class:y(e(p).e("sidebar"))}),e(s)?(T(),B("div",{key:0,class:y(e(p).e("sidebar"))},[(T(!0),B(ye,null,_e(e(h),(Q,a)=>(T(),B("button",{key:a,type:"button",class:y(e(p).e("shortcut")),onClick:u=>i(Q)},fe(Q.text),11,En))),128))],2)):ve("v-if",!0),L("div",{class:y(e(p).e("body"))},[e(J)?(T(),B("div",{key:0,class:y(e(m).e("time-header"))},[L("span",{class:y(e(m).e("editor-wrap"))},[F(e(Ze),{placeholder:e(M)("el.datepicker.selectDate"),"model-value":e(Me),size:"small","validate-event":!1,onInput:O[0]||(O[0]=Q=>q.value=Q),onChange:Oe},null,8,["placeholder","model-value"])],2),Ie((T(),B("span",{class:y(e(m).e("editor-wrap"))},[F(e(Ze),{placeholder:e(M)("el.datepicker.selectTime"),"model-value":e(be),size:"small","validate-event":!1,onFocus:Fe,onInput:O[1]||(O[1]=Q=>U.value=Q),onChange:$e},null,8,["placeholder","model-value"]),F(e(Ct),{visible:we.value,format:e(le),"time-arrow-control":e(v),"parsed-value":c.value,onPick:We},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Re]])],2)):ve("v-if",!0),Ie(L("div",{class:y([e(m).e("header"),(H.value==="year"||H.value==="month")&&e(m).e("header--bordered")])},[L("span",{class:y(e(m).e("prev-btn"))},[L("button",{type:"button","aria-label":e(M)("el.datepicker.prevYear"),class:y(["d-arrow-left",e(p).e("icon-btn")]),onClick:O[2]||(O[2]=Q=>pe(!1))},[F(e(he),null,{default:se(()=>[F(e(ot))]),_:1})],10,Fn),Ie(L("button",{type:"button","aria-label":e(M)("el.datepicker.prevMonth"),class:y([e(p).e("icon-btn"),"arrow-left"]),onClick:O[3]||(O[3]=Q=>ce(!1))},[F(e(he),null,{default:se(()=>[F(e(gt))]),_:1})],10,Bn),[[at,H.value==="date"]])],2),L("span",{role:"button",class:y(e(m).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:O[4]||(O[4]=lt(Q=>X("year"),["enter"])),onClick:O[5]||(O[5]=Q=>X("year"))},fe(e(I)),35),Ie(L("span",{role:"button","aria-live":"polite",tabindex:"0",class:y([e(m).e("header-label"),{active:H.value==="month"}]),onKeydown:O[6]||(O[6]=lt(Q=>X("month"),["enter"])),onClick:O[7]||(O[7]=Q=>X("month"))},fe(e(M)(`el.datepicker.month${e(K)+1}`)),35),[[at,H.value==="date"]]),L("span",{class:y(e(m).e("next-btn"))},[Ie(L("button",{type:"button","aria-label":e(M)("el.datepicker.nextMonth"),class:y([e(p).e("icon-btn"),"arrow-right"]),onClick:O[8]||(O[8]=Q=>ce(!0))},[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})],10,Ln),[[at,H.value==="date"]]),L("button",{type:"button","aria-label":e(M)("el.datepicker.nextYear"),class:y([e(p).e("icon-btn"),"d-arrow-right"]),onClick:O[9]||(O[9]=Q=>pe(!0))},[F(e(he),null,{default:se(()=>[F(e(ut))]),_:1})],10,Wn)],2)],2),[[at,H.value!=="time"]]),L("div",{class:y(e(p).e("content")),onKeydown:Qe},[H.value==="date"?(T(),De(Yt,{key:0,ref_key:"currentViewRef",ref:P,"selection-mode":e(w),date:c.value,"parsed-value":f.parsedValue,"disabled-date":e(o),"cell-class-name":e(k),onPick:te},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ve("v-if",!0),H.value==="year"?(T(),De(Nn,{key:1,ref_key:"currentViewRef",ref:P,date:c.value,"disabled-date":e(o),"parsed-value":f.parsedValue,onPick:W},null,8,["date","disabled-date","parsed-value"])):ve("v-if",!0),H.value==="month"?(T(),De(It,{key:2,ref_key:"currentViewRef",ref:P,date:c.value,"parsed-value":f.parsedValue,"disabled-date":e(o),onPick:_},null,8,["date","parsed-value","disabled-date"])):ve("v-if",!0)],34)],2)],2),Ie(L("div",{class:y(e(p).e("footer"))},[Ie(F(e(mt),{text:"",size:"small",class:y(e(p).e("link-btn")),onClick:oe},{default:se(()=>[He(fe(e(M)("el.datepicker.now")),1)]),_:1},8,["class"]),[[at,e(w)!=="dates"]]),F(e(mt),{plain:"",size:"small",class:y(e(p).e("link-btn")),onClick:ne},{default:se(()=>[He(fe(e(M)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[at,e(de)&&H.value==="date"]])],2))}});var zn=Le(Kn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const Hn=Ce({...sa,...ra}),Un=r=>{const{emit:d}=Jt(),n=qt(),t=Xt();return m=>{const S=wt(m.value)?m.value():m.value;if(S){d("pick",[j(S[0]).locale(r.value),j(S[1]).locale(r.value)]);return}m.onClick&&m.onClick({attrs:n,slots:t,emit:d})}},ia=(r,{defaultValue:d,leftDate:n,rightDate:t,unit:p,onParsedValueChanged:m})=>{const{emit:S}=Jt(),{pickerNs:g}=Ue(Rt),M=Te("date-range-picker"),{t:C,lang:A}=Ee(),D=Un(A),h=Z(),o=Z(),k=Z({endDate:null,selecting:!1}),l=c=>{k.value=c},v=(c=!1)=>{const $=e(h),E=e(o);xt([$,E])&&S("pick",[$,E],c)},x=c=>{k.value.selecting=c,c||(k.value.endDate=null)},P=()=>{const[c,$]=ua(e(d),{lang:e(A),unit:p,unlinkPanels:r.unlinkPanels});h.value=void 0,o.value=void 0,n.value=c,t.value=$};return xe(d,c=>{c&&P()},{immediate:!0}),xe(()=>r.parsedValue,c=>{if(Se(c)&&c.length===2){const[$,E]=c;h.value=$,n.value=$,o.value=E,m(e(h),e(o))}else P()},{immediate:!0}),{minDate:h,maxDate:o,rangeState:k,lang:A,ppNs:g,drpNs:M,handleChangeRange:l,handleRangeConfirm:v,handleShortcutClick:D,onSelect:x,t:C}},jn=["onClick"],Gn=["disabled"],Zn=["disabled"],qn=["disabled"],Xn=["disabled"],dt="month",Jn=Ve({__name:"panel-date-range",props:Hn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(r,{emit:d}){const n=r,t=Ue("EP_PICKER_BASE"),{disabledDate:p,cellClassName:m,format:S,defaultTime:g,arrowControl:M,clearable:C}=t.props,A=st(t.props,"shortcuts"),D=st(t.props,"defaultValue"),{lang:h}=Ee(),o=Z(j().locale(h.value)),k=Z(j().locale(h.value).add(1,dt)),{minDate:l,maxDate:v,rangeState:x,ppNs:P,drpNs:c,handleChangeRange:$,handleRangeConfirm:E,handleShortcutClick:K,onSelect:G,t:Y}=ia(n,{defaultValue:D,leftDate:o,rightDate:k,unit:dt,onParsedValueChanged:a}),q=Z({min:null,max:null}),U=Z({min:null,max:null}),ee=N(()=>`${o.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${o.value.month()+1}`)}`),re=N(()=>`${k.value.year()} ${Y("el.datepicker.year")} ${Y(`el.datepicker.month${k.value.month()+1}`)}`),z=N(()=>o.value.year()),te=N(()=>o.value.month()),ce=N(()=>k.value.year()),pe=N(()=>k.value.month()),H=N(()=>!!A.value.length),I=N(()=>q.value.min!==null?q.value.min:l.value?l.value.format(_.value):""),i=N(()=>q.value.max!==null?q.value.max:v.value||l.value?(v.value||l.value).format(_.value):""),w=N(()=>U.value.min!==null?U.value.min:l.value?l.value.format(s.value):""),R=N(()=>U.value.max!==null?U.value.max:v.value||l.value?(v.value||l.value).format(s.value):""),s=N(()=>ta(S)),_=N(()=>ea(S)),W=()=>{o.value=o.value.subtract(1,"year"),n.unlinkPanels||(k.value=o.value.add(1,"month")),be("year")},X=()=>{o.value=o.value.subtract(1,"month"),n.unlinkPanels||(k.value=o.value.add(1,"month")),be("month")},J=()=>{n.unlinkPanels?k.value=k.value.add(1,"year"):(o.value=o.value.add(1,"year"),k.value=o.value.add(1,"month")),be("year")},de=()=>{n.unlinkPanels?k.value=k.value.add(1,"month"):(o.value=o.value.add(1,"month"),k.value=o.value.add(1,"month")),be("month")},ne=()=>{o.value=o.value.add(1,"year"),be("year")},oe=()=>{o.value=o.value.add(1,"month"),be("month")},le=()=>{k.value=k.value.subtract(1,"year"),be("year")},Pe=()=>{k.value=k.value.subtract(1,"month"),be("month")},be=u=>{d("panel-change",[o.value.toDate(),k.value.toDate()],u)},Me=N(()=>{const u=(te.value+1)%12,b=te.value+1>=12?1:0;return n.unlinkPanels&&new Date(z.value+b,u)<new Date(ce.value,pe.value)}),we=N(()=>n.unlinkPanels&&ce.value*12+pe.value-(z.value*12+te.value+1)>=12),Fe=N(()=>!(l.value&&v.value&&!x.value.selecting&&xt([l.value,v.value]))),Re=N(()=>n.type==="datetime"||n.type==="datetimerange"),ae=(u,b)=>{if(u)return g?j(g[b]||g).locale(h.value).year(u.year()).month(u.month()).date(u.date()):u},We=(u,b=!0)=>{const V=u.minDate,ge=u.maxDate,Ge=ae(V,0),tt=ae(ge,1);v.value===tt&&l.value===Ge||(d("calendar-change",[V.toDate(),ge&&ge.toDate()]),v.value=tt,l.value=Ge,!(!b||Re.value)&&E())},$e=Z(!1),Oe=Z(!1),Ke=()=>{$e.value=!1},Xe=()=>{Oe.value=!1},Je=(u,b)=>{q.value[b]=u;const V=j(u,_.value).locale(h.value);if(V.isValid()){if(p&&p(V.toDate()))return;b==="min"?(o.value=V,l.value=(l.value||o.value).year(V.year()).month(V.month()).date(V.date()),n.unlinkPanels||(k.value=V.add(1,"month"),v.value=l.value.add(1,"month"))):(k.value=V,v.value=(v.value||k.value).year(V.year()).month(V.month()).date(V.date()),n.unlinkPanels||(o.value=V.subtract(1,"month"),l.value=v.value.subtract(1,"month")))}},ze=(u,b)=>{q.value[b]=null},Be=(u,b)=>{U.value[b]=u;const V=j(u,s.value).locale(h.value);V.isValid()&&(b==="min"?($e.value=!0,l.value=(l.value||o.value).hour(V.hour()).minute(V.minute()).second(V.second()),(!v.value||v.value.isBefore(l.value))&&(v.value=l.value)):(Oe.value=!0,v.value=(v.value||k.value).hour(V.hour()).minute(V.minute()).second(V.second()),k.value=v.value,v.value&&v.value.isBefore(l.value)&&(l.value=v.value)))},Qe=(u,b)=>{U.value[b]=null,b==="min"?(o.value=l.value,$e.value=!1):(k.value=v.value,Oe.value=!1)},et=(u,b,V)=>{U.value.min||(u&&(o.value=u,l.value=(l.value||o.value).hour(u.hour()).minute(u.minute()).second(u.second())),V||($e.value=b),(!v.value||v.value.isBefore(l.value))&&(v.value=l.value,k.value=u))},me=(u,b,V)=>{U.value.max||(u&&(k.value=u,v.value=(v.value||k.value).hour(u.hour()).minute(u.minute()).second(u.second())),V||(Oe.value=b),v.value&&v.value.isBefore(l.value)&&(l.value=v.value))},f=()=>{o.value=ua(e(D),{lang:e(h),unit:"month",unlinkPanels:n.unlinkPanels})[0],k.value=o.value.add(1,"month"),d("pick",null)},O=u=>Se(u)?u.map(b=>b.format(S)):u.format(S),Q=u=>Se(u)?u.map(b=>j(b,S).locale(h.value)):j(u,S).locale(h.value);function a(u,b){if(n.unlinkPanels&&b){const V=(u==null?void 0:u.year())||0,ge=(u==null?void 0:u.month())||0,Ge=b.year(),tt=b.month();k.value=V===Ge&&ge===tt?b.add(1,dt):b}else k.value=o.value.add(1,dt),b&&(k.value=k.value.hour(b.hour()).minute(b.minute()).second(b.second()))}return d("set-picker-option",["isValidValue",xt]),d("set-picker-option",["parseUserInput",Q]),d("set-picker-option",["formatToString",O]),d("set-picker-option",["handleClear",f]),(u,b)=>(T(),B("div",{class:y([e(P).b(),e(c).b(),{"has-sidebar":u.$slots.sidebar||e(H),"has-time":e(Re)}])},[L("div",{class:y(e(P).e("body-wrapper"))},[it(u.$slots,"sidebar",{class:y(e(P).e("sidebar"))}),e(H)?(T(),B("div",{key:0,class:y(e(P).e("sidebar"))},[(T(!0),B(ye,null,_e(e(A),(V,ge)=>(T(),B("button",{key:ge,type:"button",class:y(e(P).e("shortcut")),onClick:Ge=>e(K)(V)},fe(V.text),11,jn))),128))],2)):ve("v-if",!0),L("div",{class:y(e(P).e("body"))},[e(Re)?(T(),B("div",{key:0,class:y(e(c).e("time-header"))},[L("span",{class:y(e(c).e("editors-wrap"))},[L("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.startDate"),class:y(e(c).e("editor")),"model-value":e(I),"validate-event":!1,onInput:b[0]||(b[0]=V=>Je(V,"min")),onChange:b[1]||(b[1]=V=>ze(V,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ie((T(),B("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",class:y(e(c).e("editor")),disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.startTime"),"model-value":e(w),"validate-event":!1,onFocus:b[2]||(b[2]=V=>$e.value=!0),onInput:b[3]||(b[3]=V=>Be(V,"min")),onChange:b[4]||(b[4]=V=>Qe(V,"min"))},null,8,["class","disabled","placeholder","model-value"]),F(e(Ct),{visible:$e.value,format:e(s),"datetime-role":"start","time-arrow-control":e(M),"parsed-value":o.value,onPick:et},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Ke]])],2),L("span",null,[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})]),L("span",{class:y([e(c).e("editors-wrap"),"is-right"])},[L("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",class:y(e(c).e("editor")),disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.endDate"),"model-value":e(i),readonly:!e(l),"validate-event":!1,onInput:b[5]||(b[5]=V=>Je(V,"max")),onChange:b[6]||(b[6]=V=>ze(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ie((T(),B("span",{class:y(e(c).e("time-picker-wrap"))},[F(e(Ze),{size:"small",class:y(e(c).e("editor")),disabled:e(x).selecting,placeholder:e(Y)("el.datepicker.endTime"),"model-value":e(R),readonly:!e(l),"validate-event":!1,onFocus:b[7]||(b[7]=V=>e(l)&&(Oe.value=!0)),onInput:b[8]||(b[8]=V=>Be(V,"max")),onChange:b[9]||(b[9]=V=>Qe(V,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),F(e(Ct),{"datetime-role":"end",visible:Oe.value,format:e(s),"time-arrow-control":e(M),"parsed-value":k.value,onPick:me},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Dt),Xe]])],2)],2)):ve("v-if",!0),L("div",{class:y([[e(P).e("content"),e(c).e("content")],"is-left"])},[L("div",{class:y(e(c).e("header"))},[L("button",{type:"button",class:y([e(P).e("icon-btn"),"d-arrow-left"]),onClick:W},[F(e(he),null,{default:se(()=>[F(e(ot))]),_:1})],2),L("button",{type:"button",class:y([e(P).e("icon-btn"),"arrow-left"]),onClick:X},[F(e(he),null,{default:se(()=>[F(e(gt))]),_:1})],2),u.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(we),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-right"]),onClick:ne},[F(e(he),null,{default:se(()=>[F(e(ut))]),_:1})],10,Gn)):ve("v-if",!0),u.unlinkPanels?(T(),B("button",{key:1,type:"button",disabled:!e(Me),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-right"]),onClick:oe},[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})],10,Zn)):ve("v-if",!0),L("div",null,fe(e(ee)),1)],2),F(Yt,{"selection-mode":"range",date:o.value,"min-date":e(l),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),L("div",{class:y([[e(P).e("content"),e(c).e("content")],"is-right"])},[L("div",{class:y(e(c).e("header"))},[u.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(we),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(we)}],"d-arrow-left"]),onClick:le},[F(e(he),null,{default:se(()=>[F(e(ot))]),_:1})],10,qn)):ve("v-if",!0),u.unlinkPanels?(T(),B("button",{key:1,type:"button",disabled:!e(Me),class:y([[e(P).e("icon-btn"),{"is-disabled":!e(Me)}],"arrow-left"]),onClick:Pe},[F(e(he),null,{default:se(()=>[F(e(gt))]),_:1})],10,Xn)):ve("v-if",!0),L("button",{type:"button",class:y([e(P).e("icon-btn"),"d-arrow-right"]),onClick:J},[F(e(he),null,{default:se(()=>[F(e(ut))]),_:1})],2),L("button",{type:"button",class:y([e(P).e("icon-btn"),"arrow-right"]),onClick:de},[F(e(he),null,{default:se(()=>[F(e(pt))]),_:1})],2),L("div",null,fe(e(re)),1)],2),F(Yt,{"selection-mode":"range",date:k.value,"min-date":e(l),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e($),onPick:We,onSelect:e(G)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(Re)?(T(),B("div",{key:0,class:y(e(P).e("footer"))},[e(C)?(T(),De(e(mt),{key:0,text:"",size:"small",class:y(e(P).e("link-btn")),onClick:f},{default:se(()=>[He(fe(e(Y)("el.datepicker.clear")),1)]),_:1},8,["class"])):ve("v-if",!0),F(e(mt),{plain:"",size:"small",class:y(e(P).e("link-btn")),disabled:e(Fe),onClick:b[10]||(b[10]=V=>e(E)(!1))},{default:se(()=>[He(fe(e(Y)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ve("v-if",!0)],2))}});var Qn=Le(Jn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const el=Ce({...ra}),tl=["pick","set-picker-option"],al=({unlinkPanels:r,leftDate:d,rightDate:n})=>{const{t}=Ee(),p=()=>{d.value=d.value.subtract(1,"year"),r.value||(n.value=n.value.subtract(1,"year"))},m=()=>{r.value||(d.value=d.value.add(1,"year")),n.value=n.value.add(1,"year")},S=()=>{d.value=d.value.add(1,"year")},g=()=>{n.value=n.value.subtract(1,"year")},M=N(()=>`${d.value.year()} ${t("el.datepicker.year")}`),C=N(()=>`${n.value.year()} ${t("el.datepicker.year")}`),A=N(()=>d.value.year()),D=N(()=>n.value.year()===d.value.year()?d.value.year()+1:n.value.year());return{leftPrevYear:p,rightNextYear:m,leftNextYear:S,rightPrevYear:g,leftLabel:M,rightLabel:C,leftYear:A,rightYear:D}},nl=["onClick"],ll=["disabled"],sl=["disabled"],ft="year",rl=Ve({name:"DatePickerMonthRange"}),ol=Ve({...rl,props:el,emits:tl,setup(r,{emit:d}){const n=r,{lang:t}=Ee(),p=Ue("EP_PICKER_BASE"),{shortcuts:m,disabledDate:S,format:g}=p.props,M=st(p.props,"defaultValue"),C=Z(j().locale(t.value)),A=Z(j().locale(t.value).add(1,ft)),{minDate:D,maxDate:h,rangeState:o,ppNs:k,drpNs:l,handleChangeRange:v,handleRangeConfirm:x,handleShortcutClick:P,onSelect:c}=ia(n,{defaultValue:M,leftDate:C,rightDate:A,unit:ft,onParsedValueChanged:pe}),$=N(()=>!!m.length),{leftPrevYear:E,rightNextYear:K,leftNextYear:G,rightPrevYear:Y,leftLabel:q,rightLabel:U,leftYear:ee,rightYear:re}=al({unlinkPanels:st(n,"unlinkPanels"),leftDate:C,rightDate:A}),z=N(()=>n.unlinkPanels&&re.value>ee.value+1),te=(H,I=!0)=>{const i=H.minDate,w=H.maxDate;h.value===w&&D.value===i||(h.value=w,D.value=i,I&&x())},ce=H=>H.map(I=>I.format(g));function pe(H,I){if(n.unlinkPanels&&I){const i=(H==null?void 0:H.year())||0,w=I.year();A.value=i===w?I.add(1,ft):I}else A.value=C.value.add(1,ft)}return d("set-picker-option",["formatToString",ce]),(H,I)=>(T(),B("div",{class:y([e(k).b(),e(l).b(),{"has-sidebar":Boolean(H.$slots.sidebar)||e($)}])},[L("div",{class:y(e(k).e("body-wrapper"))},[it(H.$slots,"sidebar",{class:y(e(k).e("sidebar"))}),e($)?(T(),B("div",{key:0,class:y(e(k).e("sidebar"))},[(T(!0),B(ye,null,_e(e(m),(i,w)=>(T(),B("button",{key:w,type:"button",class:y(e(k).e("shortcut")),onClick:R=>e(P)(i)},fe(i.text),11,nl))),128))],2)):ve("v-if",!0),L("div",{class:y(e(k).e("body"))},[L("div",{class:y([[e(k).e("content"),e(l).e("content")],"is-left"])},[L("div",{class:y(e(l).e("header"))},[L("button",{type:"button",class:y([e(k).e("icon-btn"),"d-arrow-left"]),onClick:I[0]||(I[0]=(...i)=>e(E)&&e(E)(...i))},[F(e(he),null,{default:se(()=>[F(e(ot))]),_:1})],2),H.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(z),class:y([[e(k).e("icon-btn"),{[e(k).is("disabled")]:!e(z)}],"d-arrow-right"]),onClick:I[1]||(I[1]=(...i)=>e(G)&&e(G)(...i))},[F(e(he),null,{default:se(()=>[F(e(ut))]),_:1})],10,ll)):ve("v-if",!0),L("div",null,fe(e(q)),1)],2),F(It,{"selection-mode":"range",date:C.value,"min-date":e(D),"max-date":e(h),"range-state":e(o),"disabled-date":e(S),onChangerange:e(v),onPick:te,onSelect:e(c)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),L("div",{class:y([[e(k).e("content"),e(l).e("content")],"is-right"])},[L("div",{class:y(e(l).e("header"))},[H.unlinkPanels?(T(),B("button",{key:0,type:"button",disabled:!e(z),class:y([[e(k).e("icon-btn"),{"is-disabled":!e(z)}],"d-arrow-left"]),onClick:I[2]||(I[2]=(...i)=>e(Y)&&e(Y)(...i))},[F(e(he),null,{default:se(()=>[F(e(ot))]),_:1})],10,sl)):ve("v-if",!0),L("button",{type:"button",class:y([e(k).e("icon-btn"),"d-arrow-right"]),onClick:I[3]||(I[3]=(...i)=>e(K)&&e(K)(...i))},[F(e(he),null,{default:se(()=>[F(e(ut))]),_:1})],2),L("div",null,fe(e(U)),1)],2),F(It,{"selection-mode":"range",date:A.value,"min-date":e(D),"max-date":e(h),"range-state":e(o),"disabled-date":e(S),onChangerange:e(v),onPick:te,onSelect:e(c)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var ul=Le(ol,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const il=function(r){switch(r){case"daterange":case"datetimerange":return Qn;case"monthrange":return ul;default:return zn}};j.extend(Xa);j.extend(Qa);j.extend(xa);j.extend(tn);j.extend(nn);j.extend(sn);j.extend(on);j.extend(cn);var cl=Ve({name:"ElDatePicker",install:null,props:{...na,...dn},emits:["update:modelValue"],setup(r,{expose:d,emit:n,slots:t}){const p=Te("picker-panel");kt("ElPopperOptions",Sa(st(r,"popperOptions"))),kt(Rt,{slots:t,pickerNs:p});const m=Z();d({focus:(M=!0)=>{var C;(C=m.value)==null||C.focus(M)},handleOpen:()=>{var M;(M=m.value)==null||M.handleOpen()},handleClose:()=>{var M;(M=m.value)==null||M.handleClose()}});const g=M=>{n("update:modelValue",M)};return()=>{var M;const C=(M=r.format)!=null?M:Ya[r.type]||nt,A=il(r.type);return F(Fa,Zt(r,{format:C,type:r.type,ref:m,"onUpdate:modelValue":g}),{default:D=>F(A,D,null),"range-separator":t["range-separator"]})}}});const vt=cl;vt.install=r=>{r.component(vt.name,vt)};const Dl=vt;export{Dl as E};
